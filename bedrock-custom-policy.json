{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "BedrockKnowledgeBaseAccess",
            "Effect": "Allow",
            "Action": [
                "bedrock:CreateKnowledgeBase",
                "bedrock:GetKnowledgeBase",
                "bedrock:UpdateKnowledgeBase",
                "bedrock:DeleteKnowledgeBase",
                "bedrock:ListKnowledgeBases",
                "bedrock:CreateDataSource",
                "bedrock:GetDataSource",
                "bedrock:UpdateDataSource",
                "bedrock:DeleteDataSource",
                "bedrock:ListDataSources",
                "bedrock:StartIngestionJob",
                "bedrock:GetIngestionJob",
                "bedrock:ListIngestionJobs"
            ],
            "Resource": "*"
        },
        {
            "Sid": "BedrockAgentAccess",
            "Effect": "Allow",
            "Action": [
                "bedrock:CreateAgent",
                "bedrock:GetAgent",
                "bedrock:UpdateAgent",
                "bedrock:DeleteAgent",
                "bedrock:ListAgents",
                "bedrock:CreateAgentActionGroup",
                "bedrock:GetAgentActionGroup",
                "bedrock:UpdateAgentActionGroup",
                "bedrock:DeleteAgentActionGroup",
                "bedrock:ListAgentActionGroups",
                "bedrock:CreateAgentAlias",
                "bedrock:GetAgentAlias",
                "bedrock:UpdateAgentAlias",
                "bedrock:DeleteAgentAlias",
                "bedrock:ListAgentAliases"
            ],
            "Resource": "*"
        },
        {
            "Sid": "BedrockModelAccess",
            "Effect": "Allow",
            "Action": [
                "bedrock:InvokeModel",
                "bedrock:InvokeModelWithResponseStream",
                "bedrock:ListFoundationModels",
                "bedrock:GetFoundationModel"
            ],
            "Resource": "*"
        },
        {
            "Sid": "S3Access",
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:DeleteObject",
                "s3:ListBucket",
                "s3:CreateBucket",
                "s3:GetBucketLocation"
            ],
            "Resource": [
                "arn:aws:s3:::fmacsource",
                "arn:aws:s3:::fmacsource/*"
            ]
        },
        {
            "Sid": "OpenSearchServerlessAccess",
            "Effect": "Allow",
            "Action": [
                "opensearchserverless:CreateCollection",
                "opensearchserverless:GetCollection",
                "opensearchserverless:UpdateCollection",
                "opensearchserverless:DeleteCollection",
                "opensearchserverless:ListCollections",
                "opensearchserverless:CreateSecurityPolicy",
                "opensearchserverless:GetSecurityPolicy",
                "opensearchserverless:UpdateSecurityPolicy",
                "opensearchserverless:DeleteSecurityPolicy",
                "opensearchserverless:ListSecurityPolicies",
                "opensearchserverless:CreateAccessPolicy",
                "opensearchserverless:GetAccessPolicy",
                "opensearchserverless:UpdateAccessPolicy",
                "opensearchserverless:DeleteAccessPolicy",
                "opensearchserverless:ListAccessPolicies",
                "opensearchserverless:BatchGetCollection",
                "opensearchserverless:GetAccountSettings",
                "opensearchserverless:UpdateAccountSettings"
            ],
            "Resource": "*"
        },
        {
            "Sid": "LambdaAccess",
            "Effect": "Allow",
            "Action": [
                "lambda:CreateFunction",
                "lambda:GetFunction",
                "lambda:UpdateFunctionCode",
                "lambda:UpdateFunctionConfiguration",
                "lambda:DeleteFunction",
                "lambda:ListFunctions",
                "lambda:InvokeFunction"
            ],
            "Resource": "arn:aws:lambda:us-east-1:*:function:devsecops-*"
        },
        {
            "Sid": "SNSAccess",
            "Effect": "Allow",
            "Action": [
                "sns:CreateTopic",
                "sns:GetTopicAttributes",
                "sns:SetTopicAttributes",
                "sns:DeleteTopic",
                "sns:ListTopics",
                "sns:Publish"
            ],
            "Resource": "arn:aws:sns:us-east-1:*:devsecops-*"
        },
        {
            "Sid": "IAMAccess",
            "Effect": "Allow",
            "Action": [
                "iam:CreateRole",
                "iam:GetRole",
                "iam:UpdateRole",
                "iam:DeleteRole",
                "iam:AttachRolePolicy",
                "iam:DetachRolePolicy",
                "iam:ListAttachedRolePolicies",
                "iam:CreatePolicy",
                "iam:GetPolicy",
                "iam:ListPolicies",
                "iam:PassRole"
            ],
            "Resource": [
                "arn:aws:iam::*:role/devsecops-*",
                "arn:aws:iam::*:policy/devsecops-*"
            ]
        }
    ]
}
